<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Minimal Navigation System -->
  <script src="/shared/universal-navigation.js"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Order Placed Successfully - Local Market | ADD Physical Products</title>
  <link rel="icon" type="image/png" href="/public/images/logo.png">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/shared/unified-router.js"></script>
    
<script src="/shared/enhanced-navigation.js"></script>
  <style>
    body { font-family: 'Inter', sans-serif; }
    .glass { background: rgba(255,255,255,0.9); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); }
    .success-animation { animation: successPulse 2s ease-in-out infinite; }
    @keyframes successPulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
  </style>
</head>
<body class="bg-gradient-to-br from-green-50 via-white to-emerald-50 min-h-screen" data-page-type="grocery">
  
  <!-- Navigation preserved - each page has unique navigation -->

  
  <!-- Navigation preserved - each page has unique navigation -->

  
  
  
  
  
  <nav class="glass border-b border-green-100 sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16">
        <div class="flex items-center space-x-4">
          <a href="/grocery/local-market-home.html" d data-route="grocery.home"ata-route="grocery.home" class="flex items-center space-x-2">
            <img src="/public/images/logo.png" loading="lazy" alt="ADD" class="h-10 w-10">
            <div>
              <h1 class="text-xl font-bold text-gray-900">Local Market</h1>
              <p class="text-xs text-green-600">Order Confirmation</p>
            </div>
          </a>
        </div>
      </div>
    </div>
  </nav>

  <div class="max-w-4xl mx-auto px-4 py-12">
    
    <!-- Success Message -->
    <div class="text-center mb-12">
      <div class="success-animation inline-block w-24 h-24 bg-green-500 rounded-full flex items-center justify-center mb-6">
        <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
        </svg>
      </div>
      
      <h1 class="text-4xl font-bold text-gray-900 mb-4">üéâ Order Placed Successfully!</h1>
      <p class="text-xl text-gray-600 mb-2">Your fresh groceries are on the way</p>
      <p class="text-lg text-green-600 font-medium">Order #<span id="order-number">Loading...</span></p>
    </div>

    <!-- Order Status Card -->
    <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl font-bold text-gray-900">Order Status</h2>
        <span class="bg-yellow-100 text-yellow-800 px-4 py-2 rounded-full font-medium">
          üìã Order Received
        </span>
      </div>
      
      <!-- Status Timeline -->
      <div class="relative">
        <div class="absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"></div>
        
        <div class="relative flex items-center mb-6">
          <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-bold text-sm z-10">
            ‚úì
          </div>
          <div class="ml-4">
            <h3 class="font-semibold text-gray-900">Order Placed</h3>
            <p class="text-sm text-gray-600" id="order-time">Just now</p>
          </div>
        </div>
        
        <div class="relative flex items-center mb-6">
          <div class="w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center text-white font-bold text-sm z-10">
            2
          </div>
          <div class="ml-4">
            <h3 class="font-semibold text-gray-900">Finding Agent</h3>
            <p class="text-sm text-gray-600">We're finding the best delivery agent for you</p>
          </div>
        </div>
        
        <div class="relative flex items-center mb-6">
          <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 font-bold text-sm z-10">
            3
          </div>
          <div class="ml-4">
            <h3 class="font-semibold text-gray-500">Agent Shopping</h3>
            <p class="text-sm text-gray-500">Agent will shop for your items</p>
          </div>
        </div>
        
        <div class="relative flex items-center">
          <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 font-bold text-sm z-10">
            4
          </div>
          <div class="ml-4">
            <h3 class="font-semibold text-gray-500">Out for Delivery</h3>
            <p class="text-sm text-gray-500">Your order is on the way</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Order Details -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
      
      <!-- Delivery Information -->
      <div class="bg-white rounded-2xl shadow-lg p-6">
        <h3 class="text-xl font-semibold text-gray-900 mb-4">üìç Delivery Information</h3>
        
        <div class="space-y-4">
          <div>
            <p class="text-sm text-gray-600">Delivery Address:</p>
            <p id="delivery-address" class="font-medium text-gray-900">Loading...</p>
          </div>
          
          <div>
            <p class="text-sm text-gray-600">Estimated Delivery Time:</p>
            <p id="delivery-time" class="font-medium text-green-600">Loading...</p>
          </div>
          
          <div>
            <p class="text-sm text-gray-600">Payment Method:</p>
            <p id="payment-method" class="font-medium text-gray-900">Loading...</p>
          </div>
        </div>
      </div>

      <!-- Order Summary -->
      <div class="bg-white rounded-2xl shadow-lg p-6">
        <h3 class="text-xl font-semibold text-gray-900 mb-4">üìã Order Summary</h3>
        
        <div id="order-items" class="space-y-3 mb-4">
          <!-- Order items will be loaded here -->
        </div>
        
        <div class="border-t pt-4 space-y-2">
          <div class="flex justify-between text-sm">
            <span>Subtotal:</span>
            <span id="subtotal">Loading...</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Platform Commission:</span>
            <span id="commission">Loading...</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Packaging Fee:</span>
            <span id="packaging-fee">Loading...</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Delivery Fee:</span>
            <span id="delivery-fee">Loading...</span>
          </div>
          <div class="flex justify-between font-bold text-lg border-t pt-2">
            <span>Total:</span>
            <span id="total-amount" class="text-green-600">Loading...</span>
          </div>
        </div>
      </div>
    </div>

    <!-- What's Next -->
    <div class="bg-blue-50 rounded-2xl p-8 mb-8">
      <h3 class="text-xl font-semibold text-gray-900 mb-4">üöÄ What's Next?</h3>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="text-center">
          <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white text-xl mx-auto mb-3">
            üë§
          </div>
          <h4 class="font-semibold text-gray-900 mb-2">Agent Assignment</h4>
          <p class="text-sm text-gray-600">We'll assign a trusted delivery agent to your order within minutes</p>
        </div>
        
        <div class="text-center">
          <div class="w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center text-white text-xl mx-auto mb-3">
            üì±
          </div>
          <h4 class="font-semibold text-gray-900 mb-2">Real-time Updates</h4>
          <p class="text-sm text-gray-600">You'll receive SMS and in-app notifications about your order status</p>
        </div>
        
        <div class="text-center">
          <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white text-xl mx-auto mb-3">
            üöö
          </div>
          <h4 class="font-semibold text-gray-900 mb-2">Fast Delivery</h4>
          <p class="text-sm text-gray-600">Your fresh groceries will be delivered within your selected time window</p>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="flex flex-col sm:flex-row gap-4 justify-center">
      <button 
        id="track-order"
        class="bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-xl font-semibold transition-colors"
       onclick="showNotification('Feature in development', 'info')">
        üìç Track Your Order
      /button>
      
      <a 
        href="/grocery/local-market-home.html" d data-route="grocery.home"ata-route="grocery.home"
        class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-8 py-3 rounded-xl font-semibold transition-colors text-center"
      >
        üõí Continue Shopping
      </a>
      
      <button 
        id="contact-support"
        class="bg-blue-500 hover:bg-blue-600 text-white px-8 py-3 rounded-xl font-semibold transition-colors"
       onclick="showNotification('Feature in development', 'info')">
        üí¨ Contact Support
      /button>
    </div>

    <!-- Support Information -->
    <div class="text-center mt-12 p-6 bg-gray-50 rounded-2xl">
      <h4 class="font-semibold text-gray-900 mb-2">Need Help?</h4>
      <p class="text-gray-600 mb-4">Our customer support team is here to help you 24/7</p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center text-sm">
        <div class="flex items-center justify-center gap-2">
          <span>üìû</span>
          <span>+250 788 123 456</span>
        </div>
        <div class="flex items-center justify-center gap-2">
          <span>üìß</span>
          <span>africandealsdomain@gmail.com</span>
        </div>
        <div class="flex items-center justify-center gap-2">
          <span>üí¨</span>
          <span>Live Chat Available</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Order Tracking Modal -->
  <div id="tracking-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-2xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
      <div class="p-6 border-b">
        <div class="flex items-center justify-between">
          <h3 class="text-xl font-bold text-gray-900">Order Tracking</h3>
          <button id="close-tracking" class="text-gray-400 hover:text-gray-600" onclick="showNotification('Feature in development', 'info')">
            svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>
        </div>
      </div>
      
      <div id="tracking-content" class="p-6">
        <div class="text-center py-8">
          <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mx-auto mb-4"></div>
          <p class="text-gray-600">Loading tracking information...</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="/shared/auth-utils.js"></script>
  <script>
    // Global state
    let orderNumber = null;
    let orderData = null;

    // Initialize page
    document.addEventListener('DOMContentLoaded', function() {
      getOrderFromURL();
      loadOrderDetails();
      setupEventListeners();
    });

    // Get order number from URL
    function getOrderFromURL() {
      const urlParams = new URLSearchParams(window.location.search);
      orderNumber = urlParams.get('order');
      
      if (!orderNumber) {
        alert('No order information found. Redirecting to home...');
        window.location.href = '/grocery/local-market-home.html';
        return;
      }
      
      document.getElementById('order-number').textContent = orderNumber;
    }

    // Load order details
    async function loadOrderDetails() {
      if (!orderNumber) return;

      try {
        // For now, we'll simulate order data since we don't have a specific order details endpoint
        // In production, you would fetch from /api/local-market/orders/{orderNumber}
        
        // Simulate order data
        orderData = {
          order_number: orderNumber,
          status: 'pending',
          created_at: new Date().toISOString(),
          delivery_address: 'Kigali, Gasabo District, KG 123 St',
          estimated_delivery_time: '2-4 hours',
          payment_method: 'Cash on Delivery',
          items: [
            { name: 'Fresh Tomatoes', quantity: 2, unit_type: 'kg', unit_price: 800, total: 1600 },
            { name: 'Milk', quantity: 1, unit_type: 'lt', unit_price: 1000, total: 1000 },
            { name: 'Rice', quantity: 1, unit_type: 'kg', unit_price: 1200, total: 1200 }
          ],
          subtotal: 3800,
          commission: 38,
          packaging_fee: 200,
          delivery_fee: 1500,
          total_amount: 5538
        };

        renderOrderDetails();
        
      } catch (error) {
        console.error('Error loading order details:', error);
                
                // Enhanced error reporting
                if (error) {
                    const errorDetails = {
                        message: error.message || 'Unknown error',
                        stack: error.stack,
                        timestamp: new Date().toISOString(),
                        url: window.location.href
                    };
                    
                    console.error('Detailed error information:', errorDetails);
                    
                    // Show user-friendly notification
                    showNotification(
                        error.message || 'An error occurred. Please try again.',
                        'error'
                    );
                }
        // Show basic information
        renderBasicOrderInfo();
      }
    }

    // Render order details
    function renderOrderDetails() {
      if (!orderData) return;

      // Update delivery information
      document.getElementById('delivery-address').textContent = orderData.delivery_address;
      document.getElementById('delivery-time').textContent = orderData.estimated_delivery_time;
      document.getElementById('payment-method').textContent = orderData.payment_method;
      
      // Update order time
      const orderTime = new Date(orderData.created_at);
      document.getElementById('order-time').textContent = orderTime.toLocaleString();

      // Render order items
      const itemsContainer = document.getElementById('order-items');
      itemsContainer.innerHTML = orderData.items.map(item => `
        <div class="flex justify-between items-center py-2 border-b border-gray-100">
          <div>
            <p class="font-medium text-gray-900">${item.name}</p>
            <p class="text-sm text-gray-600">${item.quantity} ${item.unit_type} √ó ${item.unit_price} RWF</p>
          </div>
          <p class="font-medium">${item.total.toLocaleString()} RWF</p>
        </div>
      `).join('');

      // Update totals
      document.getElementById('subtotal').textContent = `${orderData.subtotal.toLocaleString()} RWF`;
      document.getElementById('commission').textContent = `${orderData.commission.toLocaleString()} RWF`;
      document.getElementById('packaging-fee').textContent = `${orderData.packaging_fee.toLocaleString()} RWF`;
      document.getElementById('delivery-fee').textContent = `${orderData.delivery_fee.toLocaleString()} RWF`;
      document.getElementById('total-amount').textContent = `${orderData.total_amount.toLocaleString()} RWF`;
    }

    // Render basic order info when detailed data is not available
    function renderBasicOrderInfo() {
      document.getElementById('delivery-address').textContent = 'Address will be confirmed by agent';
      document.getElementById('delivery-time').textContent = '2-4 hours (estimated)';
      document.getElementById('payment-method').textContent = 'As selected during checkout';
      document.getElementById('order-time').textContent = 'Just now';
      
      document.getElementById('order-items').innerHTML = `
        <div class="text-center py-4 text-gray-500">
          <p>Order details will be available once confirmed</p>
        </div>
      `;
      
      document.getElementById('subtotal').textContent = 'Calculating...';
      document.getElementById('commission').textContent = 'Calculating...';
      document.getElementById('packaging-fee').textContent = 'Calculating...';
      document.getElementById('delivery-fee').textContent = 'Calculating...';
      document.getElementById('total-amount').textContent = 'Calculating...';
    }

    // Setup event listeners
    function setupEventListeners() {
      // Track order button
      document.getElementById('track-order').addEventListener('click', showTrackingModal);
      
      // Contact support button
      document.getElementById('contact-support').addEventListener('click', function() {
        // In production, this could open a chat widget or redirect to support page
        alert('Support feature Feature available! For now, please call +250 788 123 456');
      });

      // Close tracking modal
      document.getElementById('close-tracking').addEventListener('click', hideTrackingModal);
      
      // Auto-refresh order status every 30 seconds
      setInterval(refreshOrderStatus, 30000);
    }

    // Show tracking modal
    function showTrackingModal() {
      document.getElementById('tracking-modal').classList.remove('hidden');
      loadTrackingInfo();
    }

    // Hide tracking modal
    function hideTrackingModal() {
      document.getElementById('tracking-modal').classList.add('hidden');
    }

    // Load tracking information
    async function loadTrackingInfo() {
      const content = document.getElementById('tracking-content');
      
      try {
        // Simulate tracking data
        setTimeout(() => {
          content.innerHTML = `
            <div class="space-y-6">
              <div class="text-center">
                <h4 class="text-lg font-semibold text-gray-900 mb-2">Order #${orderNumber}</h4>
                <p class="text-gray-600">Current Status: <span class="font-medium text-yellow-600">Finding Agent</span></p>
              </div>
              
              <div class="relative">
                <div class="absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"></div>
                
                <div class="relative flex items-start mb-6">
                  <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-bold text-sm z-10">
                    ‚úì
                  </div>
                  <div class="ml-4">
                    <h5 class="font-semibold text-gray-900">Order Placed</h5>
                    <p class="text-sm text-gray-600">${new Date().toLocaleString()}</p>
                    <p class="text-sm text-gray-500">Your order has been received and is being processed</p>
                  </div>
                </div>
                
                <div class="relative flex items-start mb-6">
                  <div class="w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center text-white font-bold text-sm z-10 animate-pulse">
                    ‚è≥
                  </div>
                  <div class="ml-4">
                    <h5 class="font-semibold text-gray-900">Finding Agent</h5>
                    <p class="text-sm text-gray-600">In progress...</p>
                    <p class="text-sm text-gray-500">We're finding the best delivery agent near you</p>
                  </div>
                </div>
                
                <div class="relative flex items-start mb-6">
                  <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 font-bold text-sm z-10">
                    3
                  </div>
                  <div class="ml-4">
                    <h5 class="font-semibold text-gray-500">Agent Shopping</h5>
                    <p class="text-sm text-gray-500">Pending</p>
                  </div>
                </div>
                
                <div class="relative flex items-start">
                  <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 font-bold text-sm z-10">
                    4
                  </div>
                  <div class="ml-4">
                    <h5 class="font-semibold text-gray-500">Out for Delivery</h5>
                    <p class="text-sm text-gray-500">Pending</p>
                  </div>
                </div>
              </div>
              
              <div class="bg-blue-50 rounded-lg p-4">
                <p class="text-sm text-blue-800">
                  <strong>Estimated Delivery:</strong> ${orderData?.estimated_delivery_time || '2-4 hours'}
                </p>
                <p class="text-sm text-blue-700 mt-1">
                  You'll receive notifications when your order status changes
                </p>
              </div>
            </div>
          `;
        }, 1000);
        
      } catch (error) {
        console.error('Error loading tracking info:', error);
                
                // Enhanced error reporting
                if (error) {
                    const errorDetails = {
                        message: error.message || 'Unknown error',
                        stack: error.stack,
                        timestamp: new Date().toISOString(),
                        url: window.location.href
                    };
                    
                    console.error('Detailed error information:', errorDetails);
                    
                    // Show user-friendly notification
                    showNotification(
                        error.message || 'An error occurred. Please try again.',
                        'error'
                    );
                }
        content.innerHTML = `
          <div class="text-center py-8 text-red-600">
            <p>Unable to load tracking information</p>
            <button onclick="loadTrackingInfo()" class="mt-2 text-blue-600 hover:text-blue-800">Try Again</button>
          </div>
        `;
      }
    }

    // Refresh order status
    async function refreshOrderStatus() {
      // In production, this would fetch the latest order status
      // For now, we'll simulate status updates
      console.log('Refreshing order status...');
    }

    // Utility functions
    function getAuthToken() {
      return localStorage.getItem('token') || '';
    }
  </script>

  <!-- Navigation utilities for this page -->
  <script>
    // Page-specific navigation setup
    document.addEventListener('DOMContentLoaded', function() {
      // Set page type and mode
      document.body.setAttribute('data-page-type', 'local-market');
      
      
      // Switch to local market mode for this page
      if (window.navUtils) {
        localStorage.setItem('currentMode', 'local-market');
      }
      
      
      // Add navigation helpers to existing elements
      enhanceExistingNavigation();
      
      // Setup page-specific navigation
      setupPageNavigation();
    });
    
    function enhanceExistingNavigation() {
      // Add data-route attributes to links that don't have them
      const links = document.querySelectorAll('a[href]:not([data-route])');
      links.forEach(link => {
        const href = link.getAttribute('href');
        if (href && !href.startsWith('http') && !href.startsWith('mailto:') && !href.startsWith('tel:')) {
          const route = getRouteForHref(href);
          if (route) {
            link.setAttribute('data-route', route);
          }
        }
      });
      
      // Add journey actions to buttons
      const buttons = document.querySelectorAll('button, .btn, [role="button"]');
      buttons.forEach(button => {
        const text = button.textContent.toLowerCase();
        
        if (text.includes('add') && text.includes('cart')) {
          button.setAttribute('data-journey-action', 'add-to-cart');
        } else if (text.includes('checkout')) {
          button.setAttribute('data-journey-action', 'proceed-checkout');
        } else if (text.includes('place') && text.includes('order')) {
          button.setAttribute('data-journey-action', 'complete-payment');
        } else if (text.includes('login') || text.includes('sign in')) {
          button.setAttribute('data-quick-nav', 'login');
        } else if (text.includes('logout') || text.includes('sign out')) {
          button.setAttribute('data-quick-nav', 'logout');
        }
      });
    }
    
    function setupPageNavigation() {
      // Page-specific navigation setup
      const pageType = 'local-market';
      
      // Add mode indicators if they exist
      const modeIndicators = document.querySelectorAll('.mode-indicator');
      modeIndicators.forEach(indicator => {
        const currentMode = window.navUtils ? window.navUtils.getCurrentMode() : 'marketplace';
        indicator.className = `mode-indicator mode-${currentMode}`;
        indicator.textContent = currentMode === 'marketplace' ? 'Marketplace' : 'Local Market';
      });
      
      // Add quick navigation buttons if they exist
      const homeButtons = document.querySelectorAll('[data-nav="home"], .home-btn');
      homeButtons.forEach(btn => btn.setAttribute('data-quick-nav', 'home'));
      
      const backButtons = document.querySelectorAll('[data-nav="back"], .back-btn');
      backButtons.forEach(btn => btn.setAttribute('data-quick-nav', 'back'));
      
      const dashboardButtons = document.querySelectorAll('[data-nav="dashboard"], .dashboard-btn');
      dashboardButtons.forEach(btn => btn.setAttribute('data-quick-nav', 'dashboard'));
    }
    
    function getRouteForHref(href) {
      // Basic route mapping
      const routeMap = {
        '/': 'home',
        '/public/index.html': 'home',
        '/public/about.html': 'public.about',
        '/public/contact.html': 'public.contact',
        '/public/products.html': 'public.product-list',
        '/public/product-detail.html': 'public.product-detail',
        '/buyer/buyers-home.html': 'buyer.dashboard',
        '/buyer/cart.html': 'buyer.cart',
        '/buyer/checkout.html': 'buyer.checkout',
        '/buyer/orders.html': 'buyer.orders',
        '/seller/dashboard.html': 'seller.dashboard',
        '/seller/add-product.html': 'seller.add-product',
        '/agent/dashboard.html': 'agent.dashboard',
        '/admin/dashboard.html': 'admin.dashboard',
        '/auth/auth-buyer.html': 'auth.login',
        '/auth/auth-seller.html': 'auth.login-seller',
        '/auth/auth-agent.html': 'auth.login-agent',
        '/grocery/local-market-home.html': 'local-market.home',
        '/grocery/cart.html': 'local-market.cart'
      };
      
      return routeMap[href] || null;
    }
    
    // Wait for flexible navigation system to be ready
    window.addEventListener('flexibleNavigationReady', function() {
      console.log('‚úÖ Flexible navigation ready on grocery\order-success.html');
      
      // Start appropriate journey if needed
      
    });
  </script>


<script>
// Utility Functions for Enhanced Functionality
function showNotification(message, type = 'info') {
    // Create notification element
    const notification = document.createElement('div');
    notification.className = `fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300 ${
        type === 'success' ? 'bg-green-500 text-white' :
        type === 'error' ? 'bg-red-500 text-white' :
        type === 'warning' ? 'bg-yellow-500 text-black' :
        'bg-blue-500 text-white'
    }`;
    notification.textContent = message;
    
    document.body.appendChild(notification);
    
    // Remove after 3 seconds
    setTimeout(() => {
        notification.style.opacity = '0';
        setTimeout(() => notification.remove(), 300);
    }, 3000);
}

// Generic search handlers
function handleProductSearch(query) {
    console.log('Searching products:', query);
    if (query.length > 2) {
        // Implement product search logic
        showNotification('Searching for: ' + query, 'info');
    }
}

function handleSellerSearch(query) {
    console.log('Searching sellers:', query);
    if (query.length > 2) {
        showNotification('Searching sellers: ' + query, 'info');
    }
}

function handleAgentSearch(query) {
    console.log('Searching agents:', query);
    if (query.length > 2) {
        showNotification('Searching agents: ' + query, 'info');
    }
}

function handleOrderSearch(query) {
    console.log('Searching orders:', query);
    if (query.length > 2) {
        showNotification('Searching orders: ' + query, 'info');
    }
}

function handleUserSearch(query) {
    console.log('Searching users:', query);
    if (query.length > 2) {
        showNotification('Searching users: ' + query, 'info');
    }
}

// Generic form handlers
function handleSave() {
    showNotification('Save functionality will be implemented soon', 'info');
}

function handleEdit() {
    showNotification('Edit functionality will be implemented soon', 'info');
}

function handleDelete() {
    if (confirm('Are you sure you want to delete this item?')) {
        showNotification('Delete functionality will be implemented soon', 'info');
    }
}

function handleCancel() {
    if (confirm('Are you sure you want to cancel? Unsaved changes will be lost.')) {
        history.back();
    }
}
</script>
</body>
</html>