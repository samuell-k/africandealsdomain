<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seller Header Component</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
<!-- Seller Header Component - Reusable Navigation -->
<nav class="w-full bg-white shadow-md z-50 sticky top-0 flex items-center justify-between px-4 md:px-8 h-16">
  <div class="flex items-center gap-4">
    <a href="/seller/dashboard.html" class="flex items-center gap-2">
      <img src="/public/images/logo.png" alt="ADD Logo" class="h-10 w-10 rounded-xl shadow" />
      <span class="font-extrabold text-xl md:text-2xl text-blue-700 tracking-tight">ADD Seller</span>
    </a>
    <div class="hidden md:flex gap-4 ml-8">
      <a href="/seller/dashboard.html" class="font-semibold text-gray-700 hover:text-blue-700 transition-colors">Dashboard</a>
      <a href="/seller/products.html" class="font-semibold text-gray-700 hover:text-blue-700 transition-colors">My Products</a>
      <a href="/seller/orders.html" class="font-semibold text-gray-700 hover:text-blue-700 transition-colors">Orders</a>
      <a href="/seller/inventory.html" class="font-semibold text-gray-700 hover:text-blue-700 transition-colors">Inventory</a>
      <a href="/seller/promotions.html" class="font-semibold text-gray-700 hover:text-blue-700 transition-colors">Promotions</a>
      <a href="/seller/messages.html" class="font-semibold text-gray-700 hover:text-blue-700 transition-colors">Chat</a>
    </div>
  </div>
  <div class="flex items-center gap-2">
    <!-- Language Switcher -->
    <select id="lang-switch" class="border rounded px-2 py-1 text-xs">
      <option value="en">English</option>
      <option value="rw">Kinyarwanda</option>
      <option value="fr">French</option>
      <option value="sw">Kiswahili</option>
      <option value="ar">العربية</option>
      <option value="ha">Hausa</option>
      <option value="yo">Yoruba</option>
    </select>
    <!-- Currency Switcher -->
    <select id="currency-switch" class="border rounded px-2 py-1 text-xs">
      <option value="RWF">RWF</option>
      <option value="USD">USD</option>
      <option value="EUR">EUR</option>
    </select>
    <!-- Profile Dropdown -->
    <div class="relative ml-2">
      <button id="profile-dropdown-btn" class="flex items-center gap-1 px-3 py-1 rounded hover:bg-blue-50 font-semibold transition-colors">
        <svg width="22" height="22" fill="none" stroke="currentColor" stroke-width="2.5" class="text-blue-600" viewBox="0 0 24 24"><circle cx="12" cy="8" r="4"/><path d="M4 20c0-4 8-4 8-4s8 0 8 4"/></svg>
        <span id="profile-name">My Store</span>
        <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" class="ml-1 text-gray-400 transition-transform" id="dropdown-arrow" viewBox="0 0 24 24"><path d="M6 9l6 6 6-6"/></svg>
      </button>
      <div id="profile-dropdown-menu" class="dropdown-menu absolute right-0 mt-2 min-w-[220px] bg-white rounded-xl shadow-lg z-50 hidden p-2">
        <!-- Profile Section -->
        <div class="px-3 py-2 border-b border-gray-100 mb-2">
          <div class="font-semibold text-sm text-gray-800" id="profile-greeting">Hello, Seller</div>
          <div class="text-xs text-gray-500">Manage your store</div>
        </div>
        
        <!-- Main Menu Items -->
        <div class="space-y-1">
          <a href="/seller/profile.html" class="flex items-center gap-3 px-3 py-2 hover:bg-blue-50 rounded-lg text-sm transition-colors">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" class="text-blue-600" viewBox="0 0 24 24"><circle cx="12" cy="8" r="4"/><path d="M4 20c0-4 8-4 8-4s8 0 8 4"/></svg>
            <span data-i18n="profileSettings">Profile Settings</span>
          </a>
          
          <a href="/seller/analytics.html" class="flex items-center gap-3 px-3 py-2 hover:bg-blue-50 rounded-lg text-sm transition-colors">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" class="text-green-600" viewBox="0 0 24 24"><path d="M3 3v18h18"/><path d="M18.7 8l-5.1 5.2-2.8-2.7L7 14.3"/></svg>
            <span data-i18n="analytics">Analytics</span>
          </a>
          
          <a href="/seller/notifications.html" class="flex items-center gap-3 px-3 py-2 hover:bg-blue-50 rounded-lg text-sm transition-colors">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" class="text-yellow-600" viewBox="0 0 24 24"><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"/></svg>
            <span data-i18n="notifications">Notifications</span>
            <span class="ml-auto bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5">3</span>
          </a>
          
          <a href="/seller/settings.html" class="flex items-center gap-3 px-3 py-2 hover:bg-blue-50 rounded-lg text-sm transition-colors">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" class="text-gray-600" viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
            <span data-i18n="settings">Settings</span>
          </a>
          
          <a href="/seller/support.html" class="flex items-center gap-3 px-3 py-2 hover:bg-blue-50 rounded-lg text-sm transition-colors">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" class="text-purple-600" viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
            <span data-i18n="support">Support</span>
          </a>
        </div>
        
        <!-- Divider -->
        <div class="border-t border-gray-100 my-2"></div>
        
        <!-- Legal & Help -->
        <div class="space-y-1">
          <a href="/public/privacy-policy.html" class="flex items-center gap-3 px-3 py-2 hover:bg-blue-50 rounded-lg text-sm transition-colors">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" class="text-gray-500" viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
            <span data-i18n="privacyPolicy">Privacy & Policy</span>
          </a>
          
          <a href="/public/terms-and-conditions.html" class="flex items-center gap-3 px-3 py-2 hover:bg-blue-50 rounded-lg text-sm transition-colors">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" class="text-gray-500" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14,2 14,8 20,8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10,9 9,9 8,9"/></svg>
            <span data-i18n="termsConditions">Terms & Conditions</span>
          </a>
        </div>
        
        <!-- Divider -->
        <div class="border-t border-gray-100 my-2"></div>
        
        <!-- Logout -->
        <button id="logout-btn" class="w-full flex items-center gap-3 px-3 py-2 hover:bg-red-50 rounded-lg text-sm transition-colors text-red-600">
          <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" class="text-red-600" viewBox="0 0 24 24"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16,17 21,12 16,7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
          <span data-i18n="logout">Logout</span>
        </button>
      </div>
    </div>
  </div>
</nav>

<script>
// Seller Header Component JavaScript
(function() {
  // --- GLOBAL STATE ---
  let currencyRates = {};
  let selectedCurrency = localStorage.getItem('selectedCurrency') || 'RWF';
  let selectedCurrencySymbol = { USD: '$', RWF: 'FRw', EUR: '€', KES: 'Ksh', NGN: '₦' }[selectedCurrency] || 'FRw';
  let selectedLang = localStorage.getItem('selectedLang') || 'en';
  const currencySymbols = { USD: '$', RWF: 'FRw', EUR: '€', KES: 'Ksh', NGN: '₦' };
  const supportedCurrencies = ['USD','RWF','EUR','KES','NGN'];
  const supportedLangs = [
    { code: 'en', label: 'English' },
    { code: 'fr', label: 'Français' },
    { code: 'rw', label: 'Kinyarwanda' },
    { code: 'sw', label: 'Kiswahili' },
    { code: 'ar', label: 'العربية' },
    { code: 'ha', label: 'Hausa' },
    { code: 'yo', label: 'Yoruba' }
  ];

  // --- AUTH CHECK ---
  (function() {
    const token = localStorage.getItem('token');
    if (!token) window.location.href = '/auth/auth-seller.html';
  })();

  // --- PROFILE DROPDOWN ---
  document.getElementById('profile-dropdown-btn').addEventListener('click', function(e) {
    e.stopPropagation();
    const dropdownMenu = document.getElementById('profile-dropdown-menu');
    const arrow = document.getElementById('dropdown-arrow');
    dropdownMenu.classList.toggle('hidden');
    arrow.classList.toggle('rotate-180');
  });

  // Close dropdown when clicking outside
  document.addEventListener('click', function(e) {
    const dropdownMenu = document.getElementById('profile-dropdown-menu');
    const dropdownBtn = document.getElementById('profile-dropdown-btn');
    const arrow = document.getElementById('dropdown-arrow');
    
    if (!dropdownBtn.contains(e.target) && !dropdownMenu.contains(e.target)) {
      dropdownMenu.classList.add('hidden');
      arrow.classList.remove('rotate-180');
    }
  });

  // --- LOGOUT ---
  document.getElementById('logout-btn').onclick = function() {
    localStorage.removeItem('token');
    localStorage.removeItem('user');
    window.location.href = '/auth/auth-seller.html';
  };

  // --- LANGUAGE SWITCHER ---
  const langSwitch = document.getElementById('lang-switch');
  const i18n = {
    greeting: {
      en: 'Welcome back, Seller!',
      fr: 'Bon retour, Vendeur!',
      rw: 'Murakaza neza, Umucuruzi!',
      sw: 'Karibu tena, Muuzaji!',
      ar: 'مرحبًا بعودتك، البائع!',
      ha: 'Barka da dawowa, Mai sayarwa!',
      yo: 'Kaabo pada, Olùtajà!'
    },
    profileSettings: {
      en: 'Profile Settings', fr: 'Paramètres du profil', rw: 'Uburere bwo guhagaze', sw: 'Mipangilio ya Muuzaji', ar: 'إعدادات الملف الشخصي', ha: 'Kowace da mai siya', yo: 'Ọwọn ọwọn mu'
    },
    analytics: {
      en: 'Analytics', fr: 'Analytiques', rw: 'Ikibazo', sw: 'Ujumbe', ar: 'التحليلات', ha: 'Kayan ƙasar', yo: 'Ẹnikẹni'
    },
    notifications: {
      en: 'Notifications', fr: 'Notifications', rw: 'Amakuru', sw: 'Arifa', ar: 'إشعارات', ha: 'Sanarwa', yo: 'Ìkìlọ́'
    },
    settings: {
      en: 'Settings', fr: 'Paramètres', rw: 'Uburere', sw: 'Mipangilio', ar: 'الإعدادات', ha: 'Kowace', yo: 'Ọwọn ọwọn'
    },
    support: {
      en: 'Support', fr: 'Support', rw: 'Ubufasha', sw: 'Msaada', ar: 'الدعم', ha: 'Tallafi', yo: 'Atilẹyin'
    },
    privacyPolicy: {
      en: 'Privacy & Policy', fr: 'Politique de confidentialité', rw: 'Uburere bwo guhagaze', sw: 'Mipangilio ya Muuzaji', ar: 'سياسة الخصوصية', ha: 'Kowace da mai siya', yo: 'Ọwọn ọwọn mu'
    },
    termsConditions: {
      en: 'Terms & Conditions', fr: 'Conditions d\'utilisation', rw: 'Itegeko z\'ibyaha', sw: 'Mipangilio ya Muuzaji', ar: 'الشروط والأحكام', ha: 'Kowace da mai siya', yo: 'Ọwọn ọwọn mu'
    },
    logout: {
      en: 'Logout', fr: 'Déconnexion', rw: 'Sohoka', sw: 'Ondoka', ar: 'تسجيل الخروج', ha: 'Fita', yo: 'Jáde'
    }
  };
  
  function t(key) {
    return i18n[key] && i18n[key][selectedLang] ? i18n[key][selectedLang] : (i18n[key] ? i18n[key]['en'] : key);
  }
  
  function updateLangUI() {
    document.querySelector('[data-i18n="profileSettings"]').textContent = t('profileSettings');
    document.querySelector('[data-i18n="analytics"]').textContent = t('analytics');
    document.querySelector('[data-i18n="notifications"]').textContent = t('notifications');
    document.querySelector('[data-i18n="settings"]').textContent = t('settings');
    document.querySelector('[data-i18n="support"]').textContent = t('support');
    document.querySelector('[data-i18n="privacyPolicy"]').textContent = t('privacyPolicy');
    document.querySelector('[data-i18n="termsConditions"]').textContent = t('termsConditions');
    document.querySelector('[data-i18n="logout"]').textContent = t('logout');
  }
  
  function renderLangOptions() {
    langSwitch.innerHTML = supportedLangs.map(l => `<option value="${l.code}">${l.label}</option>`).join('');
    langSwitch.value = selectedLang;
  }
  
  langSwitch.addEventListener('change', function() {
    selectedLang = this.value;
    localStorage.setItem('selectedLang', selectedLang);
    updateLangUI();
  });
  
  renderLangOptions();

  // --- CURRENCY SWITCHER ---
  const currencySwitch = document.getElementById('currency-switch');
  
  function renderCurrencyOptions(currencyList) {
    currencySwitch.innerHTML = currencyList.map(cur => `<option value="${cur}">${cur}</option>`).join('');
    currencySwitch.value = selectedCurrency;
  }
  
  currencySwitch.addEventListener('change', function() {
    selectedCurrency = this.value;
    selectedCurrencySymbol = currencySymbols[selectedCurrency] || selectedCurrency;
    localStorage.setItem('selectedCurrency', selectedCurrency);
    updateCurrencyUI();
  });
  
  function updateCurrencyUI() {
    // Currency symbol updates can be handled here if needed
  }

  // --- FETCH CURRENCY RATES ---
  async function fetchCurrencyRates() {
    try {
      const res = await fetch('https://v6.exchangerate-api.com/v6/c5f524e323378439dad2a43f/latest/USD');
      const data = await res.json();
      if (data && data.result === 'success') {
        currencyRates = data.conversion_rates;
        localStorage.setItem('currencyRates', JSON.stringify(currencyRates));
        renderCurrencyOptions(Object.keys(currencyRates));
      } else {
        throw new Error('API error');
      }
    } catch (e) {
      // fallback
      currencyRates = { USD: 1, RWF: 1200, EUR: 0.9, KES: 130, NGN: 1500 };
      localStorage.setItem('currencyRates', JSON.stringify(currencyRates));
      renderCurrencyOptions(Object.keys(currencyRates));
    }
  }
  
  fetchCurrencyRates();

  // --- INITIALIZE ---
  document.addEventListener('DOMContentLoaded', function() {
    updateLangUI();
  });

})();
</script>
</body>
</html> 